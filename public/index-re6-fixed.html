<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="refresh" content="500">
  <title>0에수렴하는이야기</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.0/p5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.speech/1.0.0/p5.speech.js"></script>
  <script src="https://cdn.jsdelivr.net/gh/IDMNYU/p5.js-speech@0.0.3/lib/p5.speech.js"></script>
  <link rel="stylesheet" type="text/css" href="style2.css">
</head>

<body>
  <div id="summary-container">
    <div id="summary-box" readonly></div>
  </div>
  <div id="bottom-container">
    <div id="bottom-text" readonly>글을 드래그 해보세요</div>
  </div>
  <div id="content-container">
    <div id="content"></div>
  </div>
  <textarea id="translatedText" readonly style="display: none;"></textarea>

  <div id="btn-container">
    <button id="speak-button">먼저 문장으로 요약해 주고</button>
    <button id="stop-button"> &#40;잠깐 멈출 수 도 있고&#41;</button>
    <button id="summarize-button">그다음에는 단어로 요약해 줍니다</button>
  </div>

  <div id="loading-message">조금 시간이 걸리네요...</div>
  <div id="alert-message">요약 끝</div>

  <script>

    document.addEventListener('DOMContentLoaded', function () {
      const contentDiv = document.getElementById('content');
      const bottomText = document.getElementById('bottom-text');
      const speakButton = document.getElementById('speak-button');
      const stopButton = document.getElementById('stop-button');
      const summarizeButton = document.getElementById('summarize-button');
      const summaryBox = document.getElementById('summary-box');
      const loadingMessage = document.getElementById('loading-message');
      const alertMessage = document.getElementById('alert-message');

      let isPaused = false;
      let pausedText = '';
      let speech = new p5.Speech();

      // JSON 데이터 포함
      const jsonData = [
        "은빛 아침 하늘과 반짝이는 초록 바다 사이로 배 한 척이 하리치항에 들어와 파리 떼처럼 보이는 승객 무리를 내려놓았다. 그중 우리가 지켜봐야 할 사람은 수상한 낌새가 전혀 없고 그러기를 바라지도 않는 모습이었다. 휴가라도 온 듯 가벼운 옷차림과 업무에 열중하는 표정이 살짝 모순된다는 점만 빼면 특별할 것이 없었다. 가벼운 연회색 재킷에 흰 조끼, 회청색 선이 둘러진 은색 밀짚모자 차림이었다. 하지만 여윈 얼굴은 옷차림과 대조적으로 가무잡잡했다. 짧게 자른 검은 턱수염은 스페인 사람처럼 보이게 하기도 하고 엘리자베스 시대의 주름 깃 느낌을 주기도 했다. 그는 무심하게 담배를 피웠다. 연회색 재킷 안에 장전된 권총이 들어 있다거나 흰 조끼 속에 경찰 신분증이 숨겨져 있다고는, 그리고 밀짚모자 아래 유럽 최고의 두뇌가 자리 잡고 있다고는 아무도 상상하지 못하리라. 그는 파리 경찰청장이자 세상에서 가장 유명한 수사관인 발랑탱이었다. 금세기 최대 거물을 체포하기 위해 브뤼셀에서 런던으로 가는 길이었다.\n플랑보는 영국에 있었다. 겐트에서 브뤼셀로, 브뤼셀에서 훅판홀란트로 추적을 거듭하던 세 나라 경찰은 마침내 그 거물 범죄자가 성체 대회의 어수선하고 혼란스러운 틈을 타서 런던에 들어갈 것이라고 결론 내렸다. 아마도 성체 대회와 관련된 하급 성직자나 직원인 척하며 이동할 것이었다. 하지만 물론 발랑탱은 이를 확신하지 못했다. 플랑보에 관한 한 확신하기란 불가능했다.\n",
        "세상을 뒤흔든 그의 범죄 행각이 갑자기 중단된 지 여러 해가 지났다. 땅 위에는 평화가 찾아왔다. 하지만 전성기(다시 말해 악명이 최고조이던 시기)의 플랑보는 독일 황제만큼이나 유명하고 국제적인 인물이었다. 이전 범죄의 충격이 채 가시기도 전에 새로운 범죄 소식이 거의 매일 아침 신문을 장식했다. 그는 프랑스 가스코뉴 출신으로 키가 크고 몸도 탄탄했다. 그 신체적 특성 때문에 신기한 소문들도 떠돌았다. 〈마음을 정화하기 위해〉 판결문을 거꾸로 놓고 물구나무 자세로 읽었다는 둥, 경찰관들을 양 옆구리에 끼고 리볼리 거리를 달렸다는 둥. 그의 엄청난 신체적 힘은 상대를 우스꽝스러운 꼴로 만드는 데 주로 사용되었을 뿐, 피를 흘리게 하는 일은 일어나지 않았다. 그가 저지르는 범죄는 독창성이 돋보이는 절도였기 때문이다. 절도 수법은 늘 새로웠고 매번 전설을 만들었다. 유제품은커녕 젖소 한 마리, 수레 하나, 우유 한 방울도 없이 런던에서 고객 수천 명을 확보하여 티롤 유업이라는 큰 회사를 경영하기도 했다. 남의 집 문 앞에 배달된 우유를 슬쩍해서 자기 고객의 집 앞에 가져다 두는 간단한 방법이었다. 엄중한 감시망을 뚫고 젊은 여성과 친밀한 서신을 무수히 교환하기도 했다. 현미경 슬라이드에서만 볼 수 있도록 편지를 작게 사진 찍어 보내는 기발한 방법 덕분이었다. 하지만 그의 범죄가 지닌 가장 큰 특징은 놀라울 정도로 단순하다는 점이었다. 한번은 여행자 한 사람을 유인하기 위해 밤중에 거리 전체의 번지수를 바꿔 놓기도 했다. 이동식 우체통을 만들어 한적한 외곽 지역에 설치하기도 했다. 지나가던 사람이 우연히 집어넣은 우편환을 가로채기 위해서 말이다. 플랑보는 놀라운 곡예 능력으로도 유명했다. 거구임에도 메뚜기처럼 뛰어올라 원숭이처럼 나무꼭대기로 사라질 수 있었다. 그런 플랑보였으니, 발랑탱은 상대를 찾아내는 것만으로는 임무가 끝날 수 없다는 것을 출발하기 전부터 잘 알고 있었다.",
        "하지만 찾는 것부터 문제였다. 대체 어떻게? 발랑탱은 아직 작전을 수립하지 못한 상태였다.\n변장의 귀재 플랑보가 가릴 수 없는 한 가지는 바로 유달리 큰 키였다. 발랑탱의 날카로운 눈은 키 큰 사과 장수 여인도, 키다리 보병도, 심지어 약간 큰 편인 공작부인도 그냥 보내 주지 않았을 것이다. 하지만 기차 안에는 플랑보가 변장했을 것 같은 인물이 없었다. 기린이 고양이로 변장할 수는 없는 노릇 아닌가. 배에서 만난 승객들은 충분히 살펴보았고, 항구에서 기차에 오른 사람은 모두 여섯 명이었다. 종착역까지 간다는 키 작은 역무원 한 명, 두 정거장 지났을 때 올라탄 작은 체구의 채소 장수 세 명, 에식스 읍내에서 탄 유난히 작은 과부 한 명, 그리고 에식스 시골 마을에서 올라탄 작달막한 로마 가톨릭 신부 한 명이었다. 마지막 사람을 보는 순간 발랑탱은 그만 웃음을 터뜨릴 뻔했다. 전형적인 동부 촌사람답게 둥글고 넓적한 얼굴에 두 눈은 북해처럼 공허한 그 작달막한 신부는 갈색 종이 꾸러미를 여러 개 간수하느라 쩔쩔매는 모습이었다. 갑자기 땅 위로 올라온 두더지들처럼 이렇게 무력하고 눈먼 존재들을 시골 교구에서 끌어낸 것은 성체 대회가 분명했다. 발랑탱은 프랑스식의 철저한 무신론자여서 성직자에게 가차 없는 입장을 취할 수도 있었지만, 동정심을 느꼈다. 아마 누구든 그 신부에게는 그랬을 것이다. 신부는 커다랗고 낡은 우산을 계속 바닥에 떨어뜨렸다. 손에 든 왕복 차표 중 어느 쪽을 돌아갈 때 내야 하는지도 모르는 듯했다. 그러면서 모든 승객에게 자기 짐 꾸러미에 진짜 은과 〈푸른 보석〉으로 만든 귀한 물건이 들어 있어 조심해야 한다고 천진하게 설명했다. 에식스의 촌스러움과 성직자다운 천진함이 어우러진 그 모습은 신부가 토트넘에 도착해 간신히 짐을 다 챙겨 가지고 내렸다가 우산을 가지러 되돌아올 때까지 발랑탱에게 계속 웃음을 주었다. 발랑탱은 우산 때문에 다시 기차에 오른 신부에게 다가가서, 만나는 사람 모두에게 귀한 은제품 얘기를 떠벌리진 않는 것이 좋겠다고 친절하게 조언해 주기까지 했다. 그러는 동안에도 그의 시선은 여전히 사방을 훑으면서 키 180센티미터 이상인 사람을 찾았다. 부자든 가난뱅이든, 여자든 남자든 상관없이 말이다. 플랑보의 키가 190센티미터 정도였기 때문이다.\n",
        "리버풀 거리에서 내린 발랑탱은 아직까지 플랑보를 만나지 못했다고 확신했다. 그는 런던 경찰국으로 가서 신분을 밝히고, 필요한 경우 도움을 받을 수 있도록 조치해 두었다. 그러고 나서 담배에 불을 붙인 뒤 런던 거리를 걷기 시작했다. 빅토리아 역을 지나 거리와 광장을 걷던 그는 갑자기 걸음을 멈췄다. 고풍스럽고 모든 것이 정지된 듯 고즈넉한 전형적인 런던의 광장이었다. 주변의 높은 아파트들은 한때 영화를 누렸을지 모르지만 지금은 텅 빈 듯했다. 광장 중심부의 관목 정원은 태평양의 작은 섬처럼 버려져 있었다. 광장의 네 면 중 하나는 마치 연단처럼 다른 면들보다 높이 올라가 있었다. 소호 거리에 어울릴 법한 멋진 식당이 들어서면서 그쪽 면을 손댄 것이었다. 꼬마 식물을 심은 화분들이 놓여 있고 레몬색과 흰색 줄무늬 블라인드가 쳐진 식당 건물은 두말할 것 없이 매력적이었고 거리의 다른 건물보다 더 높이 솟아 있었다. 화재 대피용 계단이 1층 창문으로 연결되듯, 거리에서 올라가는 계단은 식당 정문으로 이어졌다. 발랑탱은 레몬색과 흰색 줄무늬 블라인드 앞에 서서 담배를 피우며 생각에 잠겼다.\n기적에 있어 가장 믿기 어려운 점은 그 기적이 실제로 일어난다는 것이다. 하늘의 구름이 모여 응시하는 눈[目] 모양을 만들기도 하고, 의구심으로 가득한 여행을 하던 중에 정확하게 물음표 모양의 나무 한 그루가 선 풍경을 마주하기도 한다. 두 가지 모두 지난 며칠 사이 내가 직접 경험한 일이다. 넬슨 장군은 승리의 순간에 죽음을 맞았고, 윌리엄스라는 남자가 우연히 죽이게 된 남자의 이름이 윌리엄슨이어서 마치 가족 살해처럼 보이기도 한다. 다시 말해 요정의 장난처럼 우연한 요소들이 우리 삶에는 분명 존재한다. 상상력이 부족한 사람은 영원히 깨닫지 못하겠지만 말이다. 에드거 앨런 포의 역설이 잘 드러내듯, 지혜는 뜻밖의 것을 예상해야 하는 법이다.\n아리스티드 발랑탱은 철저한 프랑스인이었다. 프랑스의 지성은 특별하고 독자적이다. 그는 〈생각하는 기계〉는 아니었다. 이 말은 현대의 운명주의와 물질주의가 만들어 낸 어리석은 표현일 뿐이니까. 기계는 생각하지 못하기 때문에 기계인 것이다. 하지만 발랑탱은 생각하는 인간이자 동시에 한 인간이었다. 마술이라도 부리는 듯한 그의 놀라운 성공 이력은 집요한 추론, 명료하고 상식적인 프랑스식 사고에 힘입은 것이었다. 프랑스인들은 역설이 아닌, 자명한 이치로 세상을 깜짝 놀라게 한다. 그 자명한 이치는 프랑스 혁명에서도 드러났다. 하지만 발랑탱은 이성을 이해한다는 바로 그 이유 때문에 이성의 한계도 이해했다. 자동차에 대해 전혀 모르는 사람만이 휘발유 없이 자동차 이야기를 하듯, 이성에 대해 전혀 모르는 사람만이 논란의 여지 없는 강력한 기본 원칙 없이 이성에 대해 떠드는 법이었다. 현재 발랑탱에게는 강력한 기본 원칙이 없었다. 플랑보는 하리치에 없었다. 그럼에도 그가 런던에 들어왔다면, 윔블던 광장의 부랑자도, 메트로폴 호텔의 연회 진행자도 될 수 있었다. 이렇듯 아무것도 확실하지 않은 상태에 있을 때 발랑탱에게는 그 나름의 시각과 방법이 있었다.\n이럴 때 그는 뜻밖의 경우를 예상했다. 이성의 경로를 따라갈 수 없는 상황일 터이니 비이성의 경로를 냉정하고 조심스럽게 따라가는 것이었다. 은행, 경찰서, 밀약 장소 같은 타당한 곳 대신 엉뚱한 곳을 체계적으로 더듬어 갔다. 빈집마다 문을 두드려 보고, 막다른 골목마다 들어가 보고, 쓰레기로 막힌 길을 더듬어 가거나 엉뚱한 곳으로 연결된 우회로에 들어가는 식이었다. 그는 이 괴상한 방법을 매우 논리적으로 설명했다. 단서가 있다면 최악의 방법이겠지만, 단서가 전혀 없다면 최선의 방법이라는 것이었다. 추적하는 사람의 눈길을 끌 만큼 기이한 것은 추적당하는 사람의 눈길도 끌기 마련이라는 설명이었다. 어딘가에서 시작해야만 한다면, 상대방이 멈췄을 것 같은 장소가 최고다. 식당 입구까지 올라간 계단의 무언가, 고요하고 정취 있는 식당의 무언가가 발랑탱에게 흔치 않은 낭만적인 느낌을 갖게 해, 그는 일단 거기서 실마리를 풀어 보기로 했다. 그는 계단을 올라가 창가 자리에 앉아서 블랙커피를 주문했다.\n",
        "오전 시간이 절반쯤 지났지만 아직 아침 식사를 하지 못한 상태였다. 누군가 아침을 먹고 나간 흔적을 보자 허기가 느껴져 수란을 추가로 주문했다. 커피에 설탕을 넣으면서도 머릿속엔 플랑보 생각뿐이었다. 플랑보가 어떤 식으로 탈출해 왔었는지 되짚어 보았다. 손톱깎이를 이용하여 빠져나오기도 하고, 화재가 일어난 틈을 타기도 하고, 우표를 붙이지 않은 편지에 값을 지불해야 한다면서 둘러대기도 하고, 지구를 파괴할 수 있는 혜성을 모두가 망원경으로 관찰하게 만들기도 하고 등등. 발랑탱은 형사로서 자신의 두뇌가 플랑보 못지않다고 생각했다. 그건 사실이었다. 하지만 자신이 불리한 위치라는 점도 분명했다. 「범죄자는 창조적인 예술가지만 수사관은 비평가일 뿐이지.」 그는 쓴웃음을 지으며 중얼거리고는 커피 잔을 천천히 들어 입술에 가져갔다가 황급히 내려놓았다. 짠맛이 났던 것이다. \n흰색 가루가 든 통을 살펴보았다. 분명히 설탕 통이었다. 샴페인 병에 샴페인이 들어갈 수밖에 없듯 이 통에도 설탕이 들어 있어야 했다. 어째서 소금을 넣어 놓은 것일까. 다른 통은 없나 살펴보니 소금 통이 있었다. 소금 통에는 특별한 점이 없을까. 찍어서 맛을 보니 설탕이었다. 갑자기 호기심이 생긴 그는 식당 안을 둘러보며 소금 통과 설탕 통의 내용물을 바꿔 넣은 독특한 예술적 취향의 다른 흔적은 없는지 살폈다. 흰색 벽지로 도배된 한쪽 벽에 이상한 검은 얼룩이 있을 뿐 전체적으로 깔끔하고 유쾌하며 평범한 느낌이었다. 발랑탱은 벨을 눌러 웨이터를 불렀다.\n이른 시간이어서 그런지 눈빛이 멍하고 머리가 헝클어진 웨이터가 달려왔다. 발랑탱은 설탕 맛을 보게 한 뒤 이것이 식당의 명성에 걸맞은 일이냐고 (약간의 유머를 곁들여) 물었다. 웨이터는 갑자기 하품을 하더니 정신을 차렸다.\n「아침마다 손님들을 상대로 이런 장난을 치는 건가? 소금과 설탕을 바꿔치기하는 것이 그렇게 재미있는 모양이지?」 발랑탱이 물었다.\n상황을 파악한 웨이터는 절대 그런 의도는 없었다고, 도무지 이해할 수 없는 실수라고 변명을 늘어놓았다. 설탕 통을 집어 들어 들여다보다가 다시 소금 통을 집어 들어 들여다보는 그의 얼굴 표정이 점점 난감해졌다. 결국 웨이터는 양해를 구하고 물러나더니 잠시 뒤 지배인과 함께 나타났다. 지배인 역시 설탕 통과 소금 통을 살펴보고는 당황한 표정을 감추지 못했다.\n갑자기 웨이터가 급한 마음에 더듬거리며 입을 열었다.\n「저기, 그러니까, 그 성직자 두 명이었나 봅니다.」\n「성직자 두 명이라니?」\n「저 벽에 수프를 쏟은 성직자들 말입니다.」\n「벽에 수프를 쏟았다고?」 발랑탱은 이탈리아식 은유인 모양이라고 생각하며 말을 받았다.\n「그렇습니다.」 웨이터는 흰 벽지 위의 검은 얼룩을 가리켰다. 「저기 저 벽에 쏟았습니다.」\n발랑탱이 지배인에게 묻는 듯한 시선을 던지자 지배인이 설명을 시작했다.\n「사실입니다, 손님. 그 일이 지금 이 설탕과 소금에 관련 있어 보이지는 않습니다만, 어떻든 오늘 아침 문을 열자마자 성직자 두 명이 들어와 수프를 먹었습니다. 아주 조용하고 존경할 만한 분들이었습니다. 한 사람이 계산을 하고 나갔고 다른 사람은 행동이 좀 굼떠서 짐을 챙기느라 몇 분 더 지체했지요. 그런데 그 뒷사람이 문밖으로 나서는 순간 절반 정도 남은 수프 그릇을 들어 벽에 끼얹지 않겠습니까? 안쪽에 있던 저랑 웨이터가 놀라서 뛰어나왔을 때는 얼룩만 남고 손님들은 없었습니다. 특별히 큰 피해는 아니지만 고약한 장난이지요. 뛰어나가 붙잡으려고 했으나 이미 너무 멀리 갔더군요. 길모퉁이를 돌아 카스테어스 거리로 향하는 모습만 보았습니다.」\n",
        "발랑탱은 어느새 모자를 쓰고 지팡이를 든 채 떠날 준비를 마쳤다. 머릿속이 온통 암흑 상태여서 처음 마주친 신호를 따라갈 수밖에 없다고 결정한 것이다. 신호는 충분히 기묘했다. 계산을 마치고 유리문을 빠져나온 그는 곧 길모퉁이를 돌았다.\n그런 흥분된 순간에도 그의 시선이 여전히 냉정하고 날카롭다는 점이 다행이었다. 상점을 지나는데 어딘지 이상했다. 되돌아가서 살펴보니 채소와 과일을 바깥에 내놓고 이름과 가격이 적힌 푯말을 꽂아 둔 채 파는 상점이었다. 가장 눈에 띄는 상품은 높이 쌓인 오렌지와 호두였다. 그런데 호두 더미에는 푸른색 굵은 글씨로 〈맛좋은 오렌지, 두 개 1페니〉라는 푯말이, 오렌지에는 〈최상품 브라질 호두, 5백 그램 4페니〉라는 푯말이 꽂혀 있었다. 조금 전에 본 우스운 장난과 아주 비슷했다. 거리 이쪽저쪽을 살피던 붉은 얼굴의 상점 주인은 발랑탱의 시선을 따라가다 문제를 파악하고 말없이 푯말을 제대로 바꿔 놓았다. 형사는 지팡이에 우아하게 기대어 상점 곳곳을 살피다 마침내 입을 열었다. 「귀찮게 굴어 죄송합니다만, 실험심리학과 개념 연상에서 나온 질문을 좀 드려도 될까요?」\n붉은 얼굴을 한 상점 주인의 위협적인 시선에도 아랑곳없이 발랑탱은 지팡이를 흔들며 유쾌하게 말을 이었다. 「진열대 푯말 두 개가 런던으로 휴가 온 성직자 모자처럼 잘못 꽂혀 있는 까닭은 무엇일까요? 아니, 좀 더 명확히 말씀드리자면, 오렌지 푯말을 단 호두를 보니 한 쪽은 키가 크고 다른 한 쪽은 작은 성직자 두 명이 연상되는군요?」\n상점 주인의 두 눈이 달팽이 눈처럼 튀어나오는 듯했다. 당장이라도 낯선 행인에게 달려들 기세였다. 마침내 그가 화난 목소리로 중얼거렸다. 「당신이 어떻게 관련되었는지 모르지만, 혹시라도 아는 사이라면 똑똑히 전하시오. 또다시 내 사과를 엎어 버렸다간 성직자건 아니건 그 자리에서 작살내 버릴 것이라고.」\n「아니, 정말입니까? 사과를 엎어 버렸다고요?」 발랑탱이 안타까움을 표했다.\n「둘 중 한 사람이 그랬다오. 온 거리로 사과가 굴러가 버렸지. 그놈들을 잡았어야 하는데, 사과를 줍느라 그만.」\n「그래서 그 둘은 어디로 갔습니까?」\n「왼쪽 두 번째 거리를 따라 올라가더니 광장을 가로지릅디다.」\n",
        "「고맙습니다.」 발랑탱은 재빨리 그 자리를 떠났다. 광장 맞은편에 경찰관이 서 있었다. 「긴급 상황이오. 모자를 쓴 성직자 두 사람을 보았소?」 발랑탱이 물었다.\n경찰관이 킥킥거리며 웃기 시작했다. 「보았습니다. 한 명은 취한 상태더군요. 도로 한가운데 서서 어쩔 줄 모르는 태도로…….」\n「어느 쪽으로 갔소?」 발랑탱이 말을 가로챘다.\n「저기서 노란 버스를 탔습니다, 햄스테드행요.」\n발랑탱은 신분증을 꺼내 보여 주며 〈바로 추적해야 하니 경찰관 두 명을 불러 주게〉라고 지시한 뒤 길을 건넜다. 그 기세가 전염되었는지 체구 큰 경찰관이 민첩하게 지시를 이행했다. 2분이 채 지나지 않아 경감 한 사람과 사복 형사 한 사람이 발랑탱에게 합류했다.\n경감이 진지한 표정에 미소를 띠고 물었다. 「청장님, 그럼 어떤 일을…….」\n발랑탱이 갑자기 지팡이를 들어 버스를 가리켰다. 「저기 탄 다음에 말해 주지.」 그러고는 뒤엉킨 차들 사이를 뚫고 재빨리 걸어갔다. 세 사람이 노란 버스 안에 자리 잡았을 때 경감이 말했다. 「택시를 타면 네 배는 빨리 갈 텐데요.」\n「맞는 말이지. 어디로 가야 하는지 안다면 말일세.」 발랑탱이 조용히 말했다.\n「그럼 지금 어디로 가시는 겁니까?」 사복 형사가 그를 응시했다.\n발랑탱은 몇 초 동안 찡그리며 피우던 담배를 던져 버리고 말했다. 「상대가 무얼 하는지 안다면 그 앞을 막아 서면 되지. 그러나 무얼 할지 추측만 할 수 있다면 뒤따라가야 하네. 상대가 샛길로 가면 우리도 샛길로 가고, 멈추면 우리도 멈추고. 상대의 속도에 맞춰 움직여야지. 그래야 상대가 보는 것을 볼 수 있고, 상대가 하는 행동을 할 수 있거든. 우리가 할 일은 뭔가 수상한 점을 놓치지 않고 찾아내는 걸세.」\n「어떤 수상한 점을 말씀하시는 겁니까?」 경감이 물었다.\n「모든 수상한 점.」 발랑탱은 굳게 입을 다물었다.",
        "노란 버스는 북쪽 도로를 따라 몇 시간 나아갔다. 발랑탱은 더 이상 아무런 설명도 하지 않았고, 두 동행은 침묵 속에서 이것이 제대로 된 임무인지 의구심을 키웠다. 어쩌면 침묵 속에서 허기도 키웠을 것이다. 점심시간이 지난 지 한참되었으니 말이다. 런던 북쪽 외곽의 길은 지긋지긋하게 끝없이 이어졌다. 우주의 끝에 도달한 것이 틀림없다고 생각하는 순간 겨우 투프넬 공원 입구에 도착했음을 알게 되는 그런 종류의 여행이었다. 런던은 지저분한 술집과 적막한 관목 숲으로 사라졌다가 번화한 거리와 요란한 호텔로 되살아나곤 했다. 잇닿아 있는 열세 개의 서로 다른 천박한 도시들을 지나가는 듯했다. 도로에는 이미 겨울 어스름이 내려앉았지만, 파리에서 왔다는 수사관은 여전히 말없이 앉아 양쪽 거리에 시선을 집중했다. 캠던 타운을 지날 무렵 두 사람은 거의 잠든 상태였다. 그런데 갑자기 발랑탱은 벌떡 일어나서 두 사람의 어깨를 손으로 치고는 운전사에게 멈추라고 고함을 질렀다.\n두 사람은 영문도 모르고 갑자기 거리로 나섰다. 주변을 둘러보는 그들에게 발랑탱이 자랑스럽게 왼편의 유리창을 손가락으로 가리켰다. 호화롭고 널찍한 건물의 전면에 붙은 커다란 유리창이었다. 〈식당〉이라는 간판 아래 끼워진 반투명 무늬 유리창 한가운데가 마치 얼음 속 별 모양처럼 사방으로 커다랗게 갈라져 있었다.\n「마침내 단서가 나왔소. 유리창이 깨진 건물.」 발랑탱이 지팡이를 흔들며 외쳤다.\n「창문이라뇨? 단서라뇨?」 경감이 물었다. 「이게 그 두 사람과 관련 있다는 증거가 어디 있죠?」\n발랑탱은 화가 나서 대나무 지팡이를 거의 부러뜨릴 뻔했다.\n「증거라고?」 그가 외쳤다. 「맙소사! 지금 증거를 찾는 건가! 물론 관련 없을 가능성도 많지. 하지만 달리 무엇을 할 수 있나? 이 정도 단서라도 따라가든가, 아니면 집에 가서 잠을 자든가 둘 중 하나라는 걸 모르겠나?」 그는 서둘러 식당으로 들어섰고 동행들도 뒤를 따랐다. 늦은 식사를 위해 작은 테이블에 자리를 잡고 별 모양으로 갈라진 유리를 바라보았다. 그 모양에서는 실마리라고 할 만한 것이 없었다.",
        "「창이 깨졌군요.」 발랑탱이 계산을 하면서 종업원에게 물었다.\n「그렇습니다, 손님.」 몸을 굽히고 분주하게 잔돈을 세면서 종업원이 대답했다. 발랑탱이 슬쩍 넉넉한 팁을 얹어 주자 종업원이 활기를 띠며 몸을 일으켰다.\n「그렇습니다. 참 이상한 일이었습니다, 손님.」\n「그랬소? 이야기를 좀 해보시오.」 발랑탱이 지나가는 말처럼 물었다.\n「검은 옷의 남자 둘이 들어왔습니다. 떠돌아다니는 외국인 성직자들이었지요. 값싼 메뉴를 시켜 조용히 식사를 하고는 한 명이 계산을 하고 나갔습니다. 그러고는 다른 한 명이 뒤따라 나갔는데, 금액을 확인해 보니 세 배나 많지 않겠습니까? 문간까지 간 손님을 불러서 〈너무 많이 내셨습니다〉라고 말했더니 아무렇지 않다는 듯 〈아, 그랬나?〉라고 대답하더군요. 제가 계산서를 보여 주었는데 글쎄, 놀라 자빠질 일이 벌어졌습니다.」\n「무슨 일이었나?」\n「성경을 일곱 권이라도 걸고 맹세할 수 있습니다. 분명히 계산서에 4실링이라고 적었는데 다시 보니 너무도 분명하게 14실링이라고 쓰여 있는 겁니다.」\n「그래서? 그다음에는?」 발랑탱은 태연한 몸짓으로, 하지만 눈빛을 빛내며 다음 얘기를 재촉했다.\n「문간에 선 성직자가 차분하게 말했습니다. 〈계산을 복잡하게 만들어 미안하군. 하지만 이 창문 값을 치러야 해서 말이야.〉 제가 〈무슨 창문요?〉라고 물었더니, 〈내가 깨뜨릴 이 창문 말일세〉라고 대답한 뒤 우산을 들어 창문을 저렇게 만들어 버렸습니다.」\n듣고 있던 세 사람은 순간 흠칫했다. 경감이 〈지금 정신병자를 뒤쫓는 건가?〉라고 중얼거렸다. 종업원은 기이한 이야기를 이어 나갔다.\n「저는 잠시 넋이 나가서 아무런 행동도 하지 못했습니다. 손님은 밖으로 나가 저 골목 모퉁이에서 일행과 합류하더군요. 그제야 달려 나갔지만, 빠른 걸음으로 불록 거리로 올라가는 바람에 잡지 못했습니다.」\n「불록 거리라.」 발랑탱은 아까의 성직자들처럼 재빨리 밖으로 뛰쳐나갔다.\n",
        "추적자들은 터널처럼 황량한 벽돌 길로 접어들었다. 불빛도 창문도 몇 개 보이지 않는, 마치 모든 것의 뒷면으로만 채워진 거리 같았다. 어둠이 짙어 갔고, 런던 경찰관들조차 지금 향하는 곳이 어느 방향인지 종잡을 수 없었다. 그래도 경감은 걷다 보면 햄스테드 히스 어딘가가 나올 것이라 확신했다. 갑자기 푸른 어둠을 뚫고 어느 창문의 가스 불빛이 손전등처럼 비쳤다. 자그마한 사탕 가게 앞에 멈춰 잠깐 망설이던 발랑탱은 안으로 들어갔다. 색색의 사탕들 사이에서 진지한 표정으로 서 있다가 시가 모양 초콜릿 열세 개를 샀다. 막 말을 걸려는 참이었는데, 그럴 필요가 없었다.\n발랑탱의 점잖은 모습에 기계적으로 응대하던 마른 체구의 중년 여인이 문 앞에 선 푸른 제복 차림의 경감을 보자 눈을 크게 떴다.\n「아, 그 꾸러미 때문에 오신 거라면 이미 보냈습니다.」\n「꾸러미요?」 이번에는 발랑탱이 눈을 크게 뜰 차례였다.\n「그러니까 그 성직자분이 남기고 간 꾸러미 말입니다.」\n「오, 이런! 자, 무슨 일이 있었는지 자세히 설명을 좀 해주시오.」 발랑탱이 처음으로 간절하게 부탁하며 몸을 앞으로 굽혔다.\n여자가 살짝 주저하더니 말하기 시작했다. 「한 30분 전에 성직자들이 들어와서 박하사탕을 사고 잠시 이야기를 나누더니 히스 쪽으로 떠났어요. 잠시 후 한 명이 가게로 돌아와 꾸러미를 두고 갔다고 하더군요. 그런데 아무리 찾아도 나오지 않았어요. 그러자 〈괜찮습니다. 하지만 혹시라도 꾸러미가 나오면 이 주소로 보내 주십시오〉라면서 주소와 우편료를 주더군요. 사방을 다 찾아봤다고 생각했는데, 나중에 보니 정말로 갈색 종이 꾸러미가 있지 않겠어요. 그래서 일러 준 주소로 그걸 부쳤지요. 주소는 기억하지 못하지만 웨스트민스터 어디였어요. 뭔가 중요한 물건 같았어요. 저는 그것 때문에 경찰관이 온 거라고 생각했는데요.」\n「바로 그렇습니다.」 발랑탱이 곧바로 대답했다. 「햄스테드 히스는 여기서 가까운가요?」\n「곧장 15분만 가면 돼요. 그럼 바로 트인 곳이 나오지요.」 발랑탱은 가게 밖으로 튀어 나가 달리기 시작했다. 경찰관들도 마지못해 뒤를 따랐다.",
        "워낙 좁고 그늘진 거리를 지난 탓에 하늘 아래 탁 트인 공간이 나오자 아직 그리 어둡지 않은 저녁 시간이라는 점이 순간 놀라울 정도였다. 어두운 진홍빛을 배경으로 나무들이 검은색으로 변해 가는 가운데 청록색 하늘이 황금빛 석양으로 가라앉고 있었다. 하늘의 청록빛은 아직 별 한두 개만 구별될 정도로 옅었다. 낮의 태양 빛은 햄스테드 가장자리, 그리고 히스의 베일이라 불리는 골짜기 언저리에 흔적을 남길 뿐이었다. 휴일을 맞아 야외로 나온 사람들이 아직 남아 있었다. 벤치에 앉은 남녀들이 보이고 그네를 타면서 신나게 소리를 지르는 소녀도 멀리 보였다. 천상의 영광이 인간의 천박함 주변으로 깊어지고 짙어지는 가운데, 경사진 길에 서서 골짜기를 살피던 발랑탱의 눈에 마침내 찾고 있던 모습이 들어왔다.\n흩어져 이동하는 검은 그림자들 사이로 흩어지지 않는 검은 형상이 있었다. 성직자 옷을 입고 있는 두 사람이었다. 개미처럼 작아 보였지만, 발랑탱은 둘 중 한쪽 키가 상대보다 훨씬 작다는 것을 알아보았다. 큰 사람은 몸을 웅크리고 있었지만 180센티미터가 훌쩍 넘는 키였다. 발랑탱은 이를 악물고 앞으로 걸어갔다. 지팡이가 마구 흔들렸다. 거리를 상당히 좁혀 검은 두 형체가 마치 거대한 현미경으로 보듯 확대되었을 때, 발랑탱은 또 다른 것, 놀랍지만 언제부터인가 예상했던 것을 눈치챘다. 키 큰 성직자가 누구든 작은 쪽의 정체는 분명했다. 하리치에서 출발한 기차에서 만났던 에식스의 작달막한 신부, 발랑탱이 갈색 종이 꾸러미를 조심하라고 말해 준 바로 그 사람이었다.",
        "멀리서부터 이어져 온 모든 일이 마침내 착착 맞아떨어졌다. 발랑탱은 그날 아침 조사를 통해, 에식스의 브라운 신부가 사파이어 박힌 은십자가, 그 값진 유물을 성체 대회 때 외국인 성직자들에게 보여 주기 위해 가져간다는 점을 이미 알고 있었다. 신부가 말하던 〈진짜 은과 푸른 보석으로 만든 귀한 물건〉이 바로 그것이었다. 그 천진한 촌뜨기가 바로 브라운 신부였던 것이다. 발랑탱이 알아낸 사실을 플랑보 또한 알고 있으리라는 것은 전혀 이상하지 않았다. 플랑보는 뭐든 알아내는 사람이니까. 사파이어 십자가 얘기를 들은 플랑보가 그것을 훔치려 했다는 점도 이상할 것이 없었다. 자연계에서도 가장 자연스러운 일이라고나 할까. 우산과 꾸러미를 든 멍청한 위인과 함께 플랑보가 여기까지 왔다는 사실이야말로 가장 이상할 것 없었다. 어리숙한 그 신부는 누구든 남극에라도 문제없이 끌고 갈 수 있을 만한 유령이 아닌가. 변신의 귀재 플랑보가 성직자 행세를 하며 그를 햄스테드 히스로 데려오는 것은 식은 죽 먹기였을 것이다. 지금까지 범죄는 완벽했다. 발랑탱은 무력한 신부에게 연민을 느낌과 동시에 그렇게 허술한 희생자를 상대로 삼은 플랑보에 대한 증오가 치밀었다. 하지만 지금까지 일어난 모든 일, 그를 이 승리까지 이끈 일들을 떠올리자 머릿속이 뒤엉켰다. 에식스 신부에게서 귀한 십자가를 훔쳐 내는 일과 벽지에 수프를 엎어 버리는 일이 무슨 상관이란 말인가? 호두에 오렌지 푯말을 붙이는 것은? 먼저 유리 값을 치르고 그다음에 깨뜨린 행동은? 추적이 끝난 단계였지만 여전히 영문을 알 수 없었다. (드물게) 실패하는 경우에도 늘 단서를 잡는 발랑탱이었지만, 이번에는 범인을 거의 잡았는데도 여전히 단서가 묘연했다.멀리서부터 이어져 온 모든 일이 마침내 착착 맞아떨어졌다. 발랑탱은 그날 아침 조사를 통해, 에식스의 브라운 신부가 사파이어 박힌 은십자가, 그 값진 유물을 성체 대회 때 외국인 성직자들에게 보여 주기 위해 가져간다는 점을 이미 알고 있었다. 신부가 말하던 〈진짜 은과 푸른 보석으로 만든 귀한 물건〉이 바로 그것이었다. 그 천진한 촌뜨기가 바로 브라운 신부였던 것이다. 발랑탱이 알아낸 사실을 플랑보 또한 알고 있으리라는 것은 전혀 이상하지 않았다. 플랑보는 뭐든 알아내는 사람이니까. 사파이어 십자가 얘기를 들은 플랑보가 그것을 훔치려 했다는 점도 이상할 것이 없었다. 자연계에서도 가장 자연스러운 일이라고나 할까. 우산과 꾸러미를 든 멍청한 위인과 함께 플랑보가 여기까지 왔다는 사실이야말로 가장 이상할 것 없었다. 어리숙한 그 신부는 누구든 남극에라도 문제없이 끌고 갈 수 있을 만한 유령이 아닌가. 변신의 귀재 플랑보가 성직자 행세를 하며 그를 햄스테드 히스로 데려오는 것은 식은 죽 먹기였을 것이다. 지금까지 범죄는 완벽했다. 발랑탱은 무력한 신부에게 연민을 느낌과 동시에 그렇게 허술한 희생자를 상대로 삼은 플랑보에 대한 증오가 치밀었다. 하지만 지금까지 일어난 모든 일, 그를 이 승리까지 이끈 일들을 떠올리자 머릿속이 뒤엉켰다. 에식스 신부에게서 귀한 십자가를 훔쳐 내는 일과 벽지에 수프를 엎어 버리는 일이 무슨 상관이란 말인가? 호두에 오렌지 푯말을 붙이는 것은? 먼저 유리 값을 치르고 그다음에 깨뜨린 행동은? 추적이 끝난 단계였지만 여전히 영문을 알 수 없었다. (드물게) 실패하는 경우에도 늘 단서를 잡는 발랑탱이었지만, 이번에는 범인을 거의 잡았는데도 여전히 단서가 묘연했다.",
        "추적당하는 두 사람은 마치 두 마리 파리처럼 언덕의 초록 경사로를 가로지르고 있었다. 대화에 열중해 있어서 어디로 향하고 있는지도 모르는 모양이었다. 하지만 히스의 더 험하고 더 조용한 고원으로 들어간다는 점은 분명했다. 거리가 가까워지면서, 뒤따라가는 세 사람은 마치 사슴 사냥꾼처럼 나무 뒤로 몸을 숨기기도 하고 깊은 풀숲으로 기어들어 가기도 하는 볼썽사나운 모습을 보여야 했다. 그런 재주를 부린 끝에 드디어 대화가 들릴 만한 거리까지 접근했다. 하지만 아이처럼 높은 목소리가 〈이성〉이라는 단어를 자주 반복하는 것 외에는 알아들을 수가 없었다. 한번은 갑자기 땅이 푹 꺼지고 덤불이 빽빽한 곳이 나와 두 사람을 놓치기도 했다. 10분 동안이나 흔적을 찾지 못해 애태운 끝에 일몰의 장관이 내려다보이는 거대한 언덕마루의 끄트머리에 닿았다. 경치가 좋지만 사람들은 잘 찾지 않는 그곳 나무 아래에 곧 망가질 것 같은 벤치가 있었다. 두 성직자는 거기 앉아 여전히 심각한 대화를 나누고 있었다. 어두워지는 지평선에는 청록빛과 황금빛이 아직 남아 있었지만, 언덕마루 위 하늘은 녹색에서 검푸른색으로 변해 갔고, 별들이 점점 더 또렷하게 모습을 드러냈다. 발랑탱은 두 경찰관에게 말없이 신호를 보낸 뒤 커다란 나무 뒤로 몸을 숨기고, 꼼짝 않고 선 채 비로소 그 괴상한 성직자들의 대화를 듣기 시작했다.\n처음 1, 2분이 흘렀을 때 발랑탱은 의혹에 휩싸였다. 영국 경찰관 두 명을 이 밤에 히스로 끌고 온 일은 엉겅퀴에서 무화과 열매를 찾으라고 하는 것처럼 어처구니없는 짓일지도 몰랐다. 신학의 수수께끼에 대해 지적인 한담을 나누고 있는 두 사람은 진짜 성직자처럼 경건한 모습이었던 것이다. 작달막한 에식스 신부는 둥근 얼굴을 별 쪽으로 향한 채 단순한 문장으로 말했고, 다른 쪽은 별 따위는 쳐다볼 가치가 없다는 듯 고개를 숙인 채 말을 이었다. 이탈리아의 흰 수도원이나 스페인의 오래된 성당에서도 이보다 더 순수한 성직자들의 대화는 들을 수 없을 것 같았다.\n",
        "발랑탱의 귀에 처음 들어온 것은 브라운 신부의 말이었다. 「중세 사람들이 변치 않는 천상이라고 한 것은 바로 그런 뜻이었지요.」\n키 큰 신부는 숙인 고개를 끄덕이며 말했다. 「그렇습니다. 오늘날 믿지 않는 자들은 이성에 의지하죠. 하지만 세상의 수백만 가지 모습을 바라보면서 이성이 전혀 이성적이지 않은, 찬란한 천상이 존재한다는 점을 느끼지 못할 사람이 있을까요?」\n「아닙니다, 이성은 늘 이성적입니다. 삼라만상이 끝나는 마지막 경계 지점에서도 마찬가지지요. 교회가 이성을 격하시킨다고들 하는데, 실은 반대입니다. 이성을 정말 최고의 존재로 만드는 것은 이 세상에서 오로지 교회뿐이지요. 신 자신이 이성에 구속되었음을 확신하는 것도 이 세상에서 오로지 교회뿐입니다.」\n키 큰 신부가 엄숙한 얼굴을 별이 총총한 하늘 쪽으로 들어 올렸다.\n「하지만 누가 알까요? 저 무한한 우주에 만약…….」\n「물리적으로만 무한합니다.」 작달막한 신부가 몸을 홱 돌렸다. 「진리의 법칙에서 빠져나가지는 못하니, 무한하지 않은 거지요.」\n나무 뒤의 발랑탱은 애꿎은 손톱만 물어뜯었다. 자기 추측에 따라 여기까지 끌고 온 영국 경찰관들이 한가한 두 늙은 성직자의 형이상학적인 잡담을 들으면서 키득거리는 소리가 들리는 것만 같았다. 그 초조한 마음 때문에 키 큰 신부의 철학적인 답변을 듣지 못했다. 다시 귀를 기울이자 브라운 신부가 말하고 있었다.\n「가장 멀고 외로운 별이라 해도, 이성과 정의를 피해 갈 수는 없습니다. 저 별을 보십시오. 하나하나가 다이아몬드와 사파이어 같지 않은가요? 식물학이나 지질학으로 비유해 볼까요. 이파리가 모두 보석인 숲을 생각해 보십시오. 달은 코끼리만큼 큰 사파이어이고 말입니다. 하지만 그런 광기의 천문학이라고 해도, 이성과 정의에는 털끝만 한 차이도 가져오지 못합니다. 진주로 만든 절벽 아래 오팔 들판이 펼쳐져 있다 해도, 〈도둑질하지 말지어다〉라는 표지판은 똑같이 서 있을 겁니다.」\n처음 1, 2분이 흘렀을 때 발랑탱은 의혹에 휩싸였다. 영국 경찰관 두 명을 이 밤에 히스로 끌고 온 일은 엉겅퀴에서 무화과 열매를 찾으라고 하는 것처럼 어처구니없는 짓일지도 몰랐다. 신학의 수수께끼에 대해 지적인 한담을 나누고 있는 두 사람은 진짜 성직자처럼 경건한 모습이었던 것이다. 작달막한 에식스 신부는 둥근 얼굴을 별 쪽으로 향한 채 단순한 문장으로 말했고, 다른 쪽은 별 따위는 쳐다볼 가치가 없다는 듯 고개를 숙인 채 말을 이었다. 이탈리아의 흰 수도원이나 스페인의 오래된 성당에서도 이보다 더 순수한 성직자들의 대화는 들을 수 없을 것 같았다.\n",
        "발랑탱은 불편한 자세에서 벗어나 가능한 한 조용히 그 자리를 빠져나갈 작정을 했다. 인생 최악의 실수를 저지른 것이 분명했다. 하지만 키 큰 신부의 침묵 속 무언가가 그를 멈춰 기다리게 만들었다. 마침내 키 큰 신부가 입을 열었다. 고개를 숙이고 두 손을 양 무릎에 올린 채였다.\n「글쎄요, 저는 어쩌면 이성보다 더 높은 다른 세상이 존재할 것이라는 생각이 듭니다. 천상의 수수께끼는 해독이 불가능하고, 저는 오직 한 가지 앞에 고개를 숙일 수밖에 없습니다.」\n이어서 자세나 목소리에 아무런 변화도 없는 상태로 그가 덧붙였다. 「이제 사파이어 십자가를 내놓으시지? 여긴 우리 둘뿐이니. 당신 정도는 얼마든지 갈기갈기 찢어 버릴 수 있다고.」\n자세와 목소리가 똑같다는 점 때문에 갑자기 변한 말투가 한층 폭력적으로 들렸다. 하지만 십자가의 보호자는 아주 살짝 고개를 돌렸을 뿐, 어딘지 바보스러운 얼굴로 여전히 별 쪽을 향하고 있었다. 무슨 말인지 알아듣지 못한 모양이었다. 아니면 공포에 질려 몸이 굳어 버린 것일까?\n「그래, 맞아. 내가 플랑보야.」 키 큰 신부는 여전히 같은 자세에 같은 목소리로 말했다.\n잠시 침묵이 흐른 뒤 그가 다시 말했다.\n「자, 이제 십자가를 내놓겠나?」",
        "「아니.」 짧게 대답하는 신부의 목소리가 살짝 갈라졌다.\n플랑보가 갑자기 성직자 복장을 벗어 던졌다. 그러고는 벤치에 등을 기대고 낮은 소리로 한참 웃어 댔다.\n「아니라고? 나한테 안 주겠다는 건가, 잘난 성직자 양반아! 하긴 줄 수가 없겠지. 왜 그런지 말해 줄까, 숙맥 얼간아? 그건 벌써 내 안주머니에 들어 있거든.」\n작달막한 신부는 어둠 속에서 고개를 돌리더니 소심하게 되물었다. 「정말인가?」\n플랑보가 재미있다는 듯 낄낄거렸다. 「당신이란 사람은 참말로 촌 동네 광대급인걸. 정말이냐고 물었나? 정말이고말고. 내가 똑같은 꾸러미를 만들었지. 지금 자네한테 있는 건 가짜 꾸러미이고, 보석은 나한테 있다네. 이건 오래된 수법이야, 브라운 신부. 아주 오래된 수법이지.」\n「맞아.」 브라운 신부가 손으로 머리를 쓸어 올리며 태연하게 말했다. 「나도 들어 본 적이 있다네.」\n거물 범죄자는 갑자기 호기심이 생긴다는 듯 작달막한 시골 신부 쪽으로 몸을 굽혔다.\n「들어 보았다고? 어디서 들었지?」\n「이름을 말해 줄 수야 없지. 회개한 사람이니까 말이야. 갈색 종이 꾸러미를 가짜로 만드는 수법으로 20년 동안이나 호화롭게 살았지. 그래서 아까 자네를 의심하기 시작했을 때 바로 그 수법을 생각해 냈다네.」\n「나를 의심하기 시작했다고?」 범죄자의 목소리에 힘이 들어갔다. 「이 황량한 히스 벌판에 데려왔다는 이유로 의심스럽다는 생각이 들었단 말인가?」\n「아니, 아니지.」 브라운 신부는 미안하다는 투였다. 「처음 만났을 때부터 의심했네. 소매가 부풀어 있더군. 자네 같은 사람들이 쇠못 박힌 팔찌를 끼는 바로 거기 말일세.」\n「그런 팔찌 얘기는 대체 어떻게 들은 건가?」\n「아, 여러 명에게서 들었지. 하틀풀에서 본당 신부를 지낼 때 쇠못 팔찌를 낀 사람이 세 명 있었거든. 어쨌든 그래서 처음부터 자네를 의심했다네. 난 십자가를 안전하게 운반해야 했으니까. 자네를 주시하고 있자니 결국 꾸러미를 바꿔치기하더군. 그래서 내가 다시 바꿔치기해서 진짜 꾸러미를 남겨 두고 왔네.」\n「남겨 두고 왔다니?」 플랑보가 신부의 말을 따라 했다. 승리감에 가득했던 목소리가 처음으로 흔들리기 시작했다.\n「이렇게 했다네.」 작달막한 신부의 말투는 바뀐 것이 없었다. 「그 사탕 가게에 다시 가서 꾸러미를 두고 왔다고 했지. 혹시 꾸러미가 나오면 보내 달라면서 주소를 줬네. 처음에 두고 온 것이 아니라 두 번째 갔을 때 두고 왔지. 가게 주인은 그 보따리를 웨스트민스터에 있는 내 친구에게 이미 보냈다네.」 신부는 서글픈 어조로 덧붙였다. 「이 방법도 하틀풀에서 배운 걸세. 기차역에서 훔친 가방을 이렇게 처리했다더군. 지금은 수도원에 있는 사람이야. 이런 건 다…….」 그가 다시 미안해 죽겠다는 듯 이마를 문질렀다. 「신부인 죄로 알게 된 걸세. 사람들이 와서 이야기를 해주니까.」\n플랑보가 안주머니에서 갈색 종이 꾸러미를 꺼내더니 갈기갈기 찢었다. 안에 들어 있는 것은 종이와 구리 막대기뿐이었다. 그는 벌떡 일어서더니 고함을 질렀다.\n",
        "「난 못 믿겠어. 당신 같은 시골뜨기가 그런 일을 했다고? 십자가는 아직 당신한테 있을 거야. 그걸 내놓지 않으면, 여긴 우리 둘뿐이니 힘으로 빼앗아 버리면 되지, 뭐.」\n「아니.」 브라운 신부도 자리에서 일어섰다. 「힘으로도 빼앗을 수 없네. 첫째는 정말 나한테 지금 십자가가 없고, 둘째는 우리 둘만 있는 것이 아니거든.」\n플랑보가 신부에게 다가가던 걸음을 멈추었다.\n「저 나무 뒤에,」 브라운 신부가 손짓을 했다. 「경찰관 두 명과 오늘날의 가장 위대한 수사관이 계시다네. 어떻게 저 사람들이 여기로 왔는지 궁금한가? 물론 내가 모셔 왔지! 어떻게 했느냐고? 원한다면 말해 주지. 범죄자들 틈에서 일하고 살려면 이런 방법을 한 스무 가지는 알아야 한다네. 자, 처음에는 자네가 도둑이라는 확신이 없었어. 동료 성직자를 엉뚱하게 도둑으로 몰면 곤란한 일이어서 자네 정체를 밝혀내기 위해 실험을 했네. 자기 커피에 소금이 들어간 것을 알면 누구든 소란을 떨겠지. 아니라면 조용히 해야 할 이유가 있는 것이고. 내가 소금과 설탕을 바꿨는데도 자네는 가만히 있더군. 또 계산서 금액이 세 배나 많다면 항의해야 마땅하네. 군소리 없이 돈을 낸다면 남의 눈에 띄지 않아야 한다는 뜻이지. 내가 계산서 금액을 바꿨는데도 자네는 그냥 그 돈을 다 지불했어.」\n세상은 플랑보가 호랑이처럼 날뛸 순간을 기다리는 듯했다. 하지만 그는 마법의 주문에라도 걸린 듯 꼼짝하지 않았다. 도대체 상황이 이해되지 않는 듯했다.\n",
        "「자네가 경찰에게 아무런 단서도 남기지 않으려 하니,」 브라운 신부가 느릿느릿 설명을 이어 나갔다. 「다른 사람이 할 수밖에. 그래서 가는 곳마다 흔적을 남겨 우리 뒤를 따라오게 했다네. 큰 피해를 입히지는 않았어. 벽에 수프를 끼얹고, 사과 상자를 엎고, 창문을 깨는 정도였지. 덕분에 나는 십자가를 구했네. 앞으로도 늘 그렇게 십자가는 안전할 거야. 지금쯤 웨스트민스터에 있겠군. 자네가 어째서 당나귀 휘파람 수법으로 그걸 멈춰 세우지 않았는지 궁금하네만.」\n「무슨 수법이라고?」\n「그걸 모른다니 다행이야.」 브라운 신부는 침울한 표정을 지었다. 「비열한 짓이지. 자네가 그 정도는 아니라고 생각했네. 자네가 그렇게 나왔다면, 내가 얼룩 수법을 써도 맞서지 못했을 거야. 난 다리가 그렇게 튼튼하지 못해서 말이야.」\n「대체 무슨 소리를 하는 거야?」\n「아, 얼룩 수법은 알 거라고 생각했는데.」 브라운 신부는 반갑다는 투로 말했다. 「자네, 아직 썩 잘못된 상태는 아니로군.」\n「대체 어떻게 그런 수법들을 다 아는 거지?」 플랑보가 비명을 질렀다.\n둥글고 순진한 얼굴에 미소가 스쳤다.\n「아마 숙맥 얼간이여서 그런 모양이지. 사람들이 어떤 죄를 지었는지 들어 주는 일을 하는 사람이 인간의 악을 전혀 모를 수 없다는 생각을 해보지 않았단 말인가? 내 직업의 또 다른 면에서도 자네가 성직자가 아니라는 걸 알 수 있었네.」",
        "「뭐가 문제였지?」 플랑보는 거의 넋이 나간 모습이었다.\n「이성을 공격하지 않았나. 그건 잘못된 신학이라네.」\n신부가 몸을 돌려 소지품을 챙기는 동안 나무 뒤에 숨어 있던 세 사람이 걸어 나왔다. 플랑보는 예술가이자 스포츠맨답게 한걸음 물러나더니, 발랑탱에게 고개를 깊이 숙여 인사했다.\n「나한테 고개 숙이지 말게. 우리 사부님께 함께 인사드리도록 하지.」 발랑탱이 낭랑한 목소리로 말했다.\n두 사람은 모자를 벗고 잠시 경의를 표했다. 작달막한 에식스 신부는 그사이 우산을 찾느라 주위를 두리번거렸다.\n"
      ];

      // JSON 데이터 사용
      jsonData.forEach((paragraph, index) => {
        const container = document.createElement('div');
        container.className = 'text-block-container';

        const div = document.createElement('div');
        div.className = 'text-block';
        div.setAttribute('draggable', 'true');
        div.innerHTML = `${paragraph.trim()}`;

        const tooltip = document.createElement('span');
        tooltip.className = 'tooltip';
        tooltip.innerText = `no.${index + 1}`;

        container.appendChild(div);
        container.appendChild(tooltip);
        contentDiv.appendChild(container);

        // 드래그 시작 이벤트 리스너
        div.addEventListener('dragstart', function (e) {
          e.dataTransfer.setData('text/plain', paragraph.trim());
          e.target.classList.add('dragging');
        });

        // 드래그 종료 이벤트 리스너
        div.addEventListener('dragend', function (e) {
          e.target.classList.remove('dragging');
        });
      });

      const bottomContainer = document.getElementById('bottom-container');

      // 드래그 오버 이벤트 리스너
      bottomContainer.addEventListener('dragover', function (e) {
        e.preventDefault();
      });

      let dragCounter = 0; // 드래그된 텍스트 블록 수

      // 드롭 이벤트 리스너
      bottomContainer.addEventListener('drop', function (e) {
        e.preventDefault();
        const data = e.dataTransfer.getData('text/plain');
        const draggingElement = document.querySelector('.text-block.dragging');
        if (draggingElement) {
          if (bottomText.innerHTML.includes('글을 드래그 해보세요')) {
            bottomText.innerHTML = '';
          }
          const newElement = document.createElement('span');
          newElement.innerHTML = data + '<br>';
          bottomText.appendChild(newElement);
          draggingElement.parentElement.remove();
        }
      });

      // 요약 텍스트 함수 (백엔드 호출)
      async function summarizeText(inputText, prompt) {
        try {
          const response = await fetch('https://api.openai.com/v1/chat/completions', {
            method: 'POST',
            headers: {
              'Authorization': `Bearer ${OPENAI_API_KEY}`,
              'Content-Type': 'application/json'
            },
            body: JSON.stringify({
              model: 'gpt-4',
              messages: [
                { role: 'system', content: prompt },
                { role: 'user', content: inputText }
              ],
              max_tokens: 600,
              temperature: 0.1,
              top_p: 0.1,
              n: 1,
              stop: null
            })
          });

          if (!response.ok) {
            const errorDetails = await response.json();
            throw new Error(`Error: ${response.status} ${response.statusText} - ${errorDetails.error.message}`);
          }

          const data = await response.json();
          return data.choices[0].message.content.trim();
        } catch (error) {
          console.error('Error:', error);
          return `Error: ${error.message}`;
        }
      }

      // 요약 버튼 클릭 이벤트 리스너 추가
      summarizeButton.addEventListener('click', async function () {
        // 로딩 메시지 표시
        loadingMessage.style.display = 'block';

        let inputText = summaryBox.innerText || bottomText.innerText;
        if (inputText) {
          const summary = await summarizeText(inputText, '다음 글을 10 글자 내로 요약하세요:');
          loadingMessage.style.display = 'none'; // 로딩 메시지 숨기기

          if (summary.split(' ').length <= 1) {
            showAlertMessage("완료");
          } else {
            try {
              speech.speak(summary);
              summaryBox.innerText = summary + '\n'; // 요약된 내용을 추가하고 줄바꿈

              // Speech 이벤트 설정
              speech.onEnd = async function () {
                const shorterSummary = await summarizeText(summaryBox.innerText, '다음 글을 한 개 단어로 요약하세요. 한 개 단어가 되면 요약을 멈추세요:');
                summaryBox.innerText = shorterSummary + '\n';
                if (!shorterSummary.includes(' ')) {
                  showAlertMessage("완료");
                } else {
                  speech.speak(shorterSummary);
                }
              };

            } catch (error) {
              console.error('Error during speech:', error);
            }
          }
        } else {
          loadingMessage.style.display = 'none'; // 로딩 메시지 숨기기
          alert("요약할 텍스트가 없습니다.");
        }
      });

      // 말하기 버튼 클릭 시 요약된 텍스트를 p5.Speech로 음성 변환
      speakButton.addEventListener('click', async function () {
        const text = bottomText.innerText;

        // 로딩 메시지 표시
        loadingMessage.style.display = 'block';

        const summary = await summarizeText(text, '다음 글을 요약해주세요:');

        if (summary) {
          try {
            pausedText = summary;
            isPaused = false;

            // 요약된 후 #bottom-text의 내용을 삭제
            bottomText.innerHTML = '';

            // 문장을 하나씩 쓰기 위한 변수
            const sentences = summary.split('. ').filter(sentence => sentence.trim() !== '');
            let currentSentenceIndex = 0;

            // Speech 이벤트 설정
            speech.onStart = function () {
              // 음성 인식이 시작되면 로딩 메시지 숨기기
              loadingMessage.style.display = 'none';
            };

            speech.onEnd = function () {
              if (currentSentenceIndex < sentences.length) {
                summaryBox.innerHTML += sentences[currentSentenceIndex] + '.<br>';
                currentSentenceIndex++;
                if (currentSentenceIndex < sentences.length) {
                  speech.speak(sentences[currentSentenceIndex]);
                }
              }
            };

            // 처음 문장을 말하기 시작
            if (sentences.length > 0) {
              speech.speak(sentences[0]);
            }

          } catch (error) {
            console.error('Error during speech:', error);
            // 로딩 메시지 숨기기
            loadingMessage.style.display = 'none';
          }
        } else {
          console.error('Summarization failed, not attempting to speak.');
          // 로딩 메시지 숨기기
          loadingMessage.style.display = 'none';
        }
      });

      // 멈추기 버튼 클릭 이벤트 리스너 추가
      stopButton.addEventListener('click', function () {
        speech.stop();
        isPaused = true;
        // 로딩 메시지 숨기기
        loadingMessage.style.display = 'none';
      });

      // 사용자 정의 알림 메시지 표시 함수
      function showAlertMessage(message) {
        alertMessage.innerText = message;
        alertMessage.style.display = 'block';
        setTimeout(() => {
          alertMessage.style.display = 'none';
        }, 3000);
      }
    });

    window.addEventListener('scroll', function () {
      const bottomContainer = document.getElementById('bottom-container');
      const scrollTop = window.scrollY || document.documentElement.scrollTop;

      // 스크롤 높이에 따라 컨테이너를 이동시키는 로직
      if (scrollTop > 0) {
        bottomContainer.style.transform = `translateY(-${scrollTop}px)`;
      } else {
        bottomContainer.style.transform = 'translateY(0)';
      }
    });
  </script>

</body>

</html>